{"ast":null,"code":"import React,{useState,useEffect}from'react';import Hand from'./Hand.jsx';import{createDeck,shuffleDeck,dealCards}from'../game-logic/deck';import{calculateScore,simpleAI,isThreeOfAKind,isPair,isFullHouse,isFourOfAKind,isFlush,isStraight,isStraightFlush,isTwoPair}from'../game-logic/thirteen-water-rules';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NUM_PLAYERS=4;// 你+3个AI\nfunction getHandType(hand){if(hand.length===3){if(isThreeOfAKind(hand))return'三条';if(isPair(hand))return'对子';return'散牌';}if(hand.length===5){if(isStraightFlush(hand))return'同花顺';if(isFourOfAKind(hand))return'四条';if(isFullHouse(hand))return'葫芦';if(isFlush(hand))return'同花';if(isStraight(hand))return'顺子';if(isTwoPair(hand))return'两对';if(isThreeOfAKind(hand))return'三条';if(isPair(hand))return'对子';return'散牌';}return'';}function GameBoard(){const[playerCards,setPlayerCards]=useState([]);const[selectedCards,setSelectedCards]=useState([]);const[frontHand,setFrontHand]=useState([]);const[middleHand,setMiddleHand]=useState([]);const[backHand,setBackHand]=useState([]);const[aiHands,setAiHands]=useState([]);// [{front, middle, back}]\nconst[gameResult,setGameResult]=useState(null);useEffect(()=>{startNewGame();// eslint-disable-next-line\n},[]);function startNewGame(){const deck=createDeck();const shuffledDeck=shuffleDeck(deck);const hands=dealCards(shuffledDeck,NUM_PLAYERS,13);setPlayerCards(hands[0]);setSelectedCards([]);setFrontHand([]);setMiddleHand([]);setBackHand([]);setGameResult(null);// 生成所有AI手牌分配\nconst ai=[];for(let i=1;i<NUM_PLAYERS;++i){ai.push(simpleAI(hands[i]));}setAiHands(ai);}function handleCardClick(card){const isSelected=selectedCards.some(selectedCard=>selectedCard.suit===card.suit&&selectedCard.rank===card.rank);if(isSelected){setSelectedCards(selectedCards.filter(selectedCard=>!(selectedCard.suit===card.suit&&selectedCard.rank===card.rank)));}else{if(selectedCards.length<playerCards.length){setSelectedCards([...selectedCards,card]);}}}function assignToHand(handType){if(handType==='front'){if(selectedCards.length===0||frontHand.length+selectedCards.length>3){alert('请选择正确数量的牌分配到前墩 (3张)');return;}}else if(handType==='middle'||handType==='back'){if(selectedCards.length===0||handType==='middle'&&middleHand.length+selectedCards.length>5||handType==='back'&&backHand.length+selectedCards.length>5){alert('请选择正确数量的牌分配到中墩或后墩 (5张)');return;}}const allAssignedCards=[...frontHand,...middleHand,...backHand];const alreadyAssigned=selectedCards.some(selectedCard=>allAssignedCards.some(assignedCard=>assignedCard.suit===selectedCard.suit&&assignedCard.rank===selectedCard.rank));if(alreadyAssigned){alert('选中的牌已经分配过了');return;}if(handType==='front')setFrontHand([...frontHand,...selectedCards]);else if(handType==='middle')setMiddleHand([...middleHand,...selectedCards]);else if(handType==='back')setBackHand([...backHand,...selectedCards]);setPlayerCards(playerCards.filter(card=>!selectedCards.some(selectedCard=>selectedCard.suit===card.suit&&selectedCard.rank===card.rank)));setSelectedCards([]);}function removeFromHand(handType,cardToRemove){if(handType==='front'){setFrontHand(frontHand.filter(card=>!(card.suit===cardToRemove.suit&&card.rank===cardToRemove.rank)));setPlayerCards([...playerCards,cardToRemove]);}else if(handType==='middle'){setMiddleHand(middleHand.filter(card=>!(card.suit===cardToRemove.suit&&card.rank===cardToRemove.rank)));setPlayerCards([...playerCards,cardToRemove]);}else if(handType==='back'){setBackHand(backHand.filter(card=>!(card.suit===cardToRemove.suit&&card.rank===cardToRemove.rank)));setPlayerCards([...playerCards,cardToRemove]);}}function handleCompareHands(){if(frontHand.length!==3||middleHand.length!==5||backHand.length!==5){alert('请先将所有牌分到前、中、后三墩');return;}// 逐个和AI比，统计总得分\nlet myScore=0;const details=[];aiHands.forEach((ai,idx)=>{const score=calculateScore({front:frontHand,middle:middleHand,back:backHand},ai);myScore+=score;details.push({aiIndex:idx+1,score});});setGameResult({myScore,details});}// 牌型提示\nconst frontType=getHandType(frontHand);const middleType=getHandType(middleHand);const backType=getHandType(backHand);return/*#__PURE__*/_jsxs(\"div\",{className:\"play-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u6E38\\u620F\\u533A\\u57DF\\uFF084\\u4EBA\\uFF09\"}),/*#__PURE__*/_jsx(\"button\",{onClick:startNewGame,children:\"\\u5F00\\u59CB\\u65B0\\u6E38\\u620F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cards-area\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u6211\\u7684\\u624B\\u724C (\",playerCards.length,\" \\u5F20)\"]}),/*#__PURE__*/_jsx(Hand,{cards:playerCards,onCardClick:handleCardClick,selectedCards:selectedCards})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hand-assignments\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"play-pai-dun\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\u524D\\u58A9 (\",frontHand.length,\"/3) \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ffb14d',fontSize:13},children:frontType})]}),/*#__PURE__*/_jsx(Hand,{cards:frontHand}),frontHand.map((card,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>removeFromHand('front',card),children:[\"\\u79FB\\u9664 \",card.rank,\" \",card.suit]},index)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>assignToHand('front'),children:\"\\u5206\\u914D\\u5230\\u524D\\u58A9\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"play-pai-dun\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\u4E2D\\u58A9 (\",middleHand.length,\"/5) \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ffb14d',fontSize:13},children:middleType})]}),/*#__PURE__*/_jsx(Hand,{cards:middleHand}),middleHand.map((card,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>removeFromHand('middle',card),children:[\"\\u79FB\\u9664 \",card.rank,\" \",card.suit]},index)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>assignToHand('middle'),children:\"\\u5206\\u914D\\u5230\\u4E2D\\u58A9\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"play-pai-dun\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\u540E\\u58A9 (\",backHand.length,\"/5) \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ffb14d',fontSize:13},children:backType})]}),/*#__PURE__*/_jsx(Hand,{cards:backHand}),backHand.map((card,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>removeFromHand('back',card),children:[\"\\u79FB\\u9664 \",card.rank,\" \",card.suit]},index)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>assignToHand('back'),children:\"\\u5206\\u914D\\u5230\\u540E\\u58A9\"})]})]}),frontHand.length===3&&middleHand.length===5&&backHand.length===5&&aiHands.length>0&&/*#__PURE__*/_jsx(\"button\",{onClick:handleCompareHands,children:\"\\u6BD4\\u724C\\u5E76\\u8BA1\\u5206\"}),gameResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u6E38\\u620F\\u7ED3\\u679C\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u4F60\\u7684\\u603B\\u5206\\uFF1A\",/*#__PURE__*/_jsx(\"b\",{style:{color:gameResult.myScore>0?'#23e67a':gameResult.myScore<0?'#ff4444':'#fff'},children:gameResult.myScore})]}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0,fontSize:15},children:gameResult.details.map(d=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u5BF9\\u624B\",d.aiIndex,\"\\uFF1A\",d.score>0?`你赢${d.score}分`:d.score<0?`你输${-d.score}分`:'平局']},d.aiIndex))})]}),aiHands.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"opponent-hands\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"AI\\u5BF9\\u624B\\u724C\\u58A9\"}),aiHands.map((ai,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"play-pai-dun\",style:{marginBottom:16,background:'#212'},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\u5BF9\\u624B\",idx+1]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u524D\\u58A9\"}),\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ffb14d',fontSize:13},children:getHandType(ai.front)}),/*#__PURE__*/_jsx(Hand,{cards:ai.front})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u4E2D\\u58A9\"}),\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ffb14d',fontSize:13},children:getHandType(ai.middle)}),/*#__PURE__*/_jsx(Hand,{cards:ai.middle})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u540E\\u58A9\"}),\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ffb14d',fontSize:13},children:getHandType(ai.back)}),/*#__PURE__*/_jsx(Hand,{cards:ai.back})]})]},idx))]})]});}export default GameBoard;","map":{"version":3,"names":["React","useState","useEffect","Hand","createDeck","shuffleDeck","dealCards","calculateScore","simpleAI","isThreeOfAKind","isPair","isFullHouse","isFourOfAKind","isFlush","isStraight","isStraightFlush","isTwoPair","jsx","_jsx","jsxs","_jsxs","NUM_PLAYERS","getHandType","hand","length","GameBoard","playerCards","setPlayerCards","selectedCards","setSelectedCards","frontHand","setFrontHand","middleHand","setMiddleHand","backHand","setBackHand","aiHands","setAiHands","gameResult","setGameResult","startNewGame","deck","shuffledDeck","hands","ai","i","push","handleCardClick","card","isSelected","some","selectedCard","suit","rank","filter","assignToHand","handType","alert","allAssignedCards","alreadyAssigned","assignedCard","removeFromHand","cardToRemove","handleCompareHands","myScore","details","forEach","idx","score","front","middle","back","aiIndex","frontType","middleType","backType","className","children","onClick","cards","onCardClick","style","color","fontSize","map","index","listStyle","padding","d","marginBottom","background"],"sources":["/home/user/ssk/frontend/src/components/GameBoard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Hand from './Hand.jsx';\nimport { createDeck, shuffleDeck, dealCards } from '../game-logic/deck';\nimport { calculateScore, simpleAI, isThreeOfAKind, isPair, isFullHouse, isFourOfAKind, isFlush, isStraight, isStraightFlush, isTwoPair } from '../game-logic/thirteen-water-rules';\n\nconst NUM_PLAYERS = 4; // 你+3个AI\n\nfunction getHandType(hand) {\n  if (hand.length === 3) {\n    if (isThreeOfAKind(hand)) return '三条';\n    if (isPair(hand)) return '对子';\n    return '散牌';\n  }\n  if (hand.length === 5) {\n    if (isStraightFlush(hand)) return '同花顺';\n    if (isFourOfAKind(hand)) return '四条';\n    if (isFullHouse(hand)) return '葫芦';\n    if (isFlush(hand)) return '同花';\n    if (isStraight(hand)) return '顺子';\n    if (isTwoPair(hand)) return '两对';\n    if (isThreeOfAKind(hand)) return '三条';\n    if (isPair(hand)) return '对子';\n    return '散牌';\n  }\n  return '';\n}\n\nfunction GameBoard() {\n  const [playerCards, setPlayerCards] = useState([]);\n  const [selectedCards, setSelectedCards] = useState([]);\n  const [frontHand, setFrontHand] = useState([]);\n  const [middleHand, setMiddleHand] = useState([]);\n  const [backHand, setBackHand] = useState([]);\n  const [aiHands, setAiHands] = useState([]); // [{front, middle, back}]\n  const [gameResult, setGameResult] = useState(null);\n\n  useEffect(() => {\n    startNewGame();\n    // eslint-disable-next-line\n  }, []);\n\n  function startNewGame() {\n    const deck = createDeck();\n    const shuffledDeck = shuffleDeck(deck);\n    const hands = dealCards(shuffledDeck, NUM_PLAYERS, 13);\n\n    setPlayerCards(hands[0]);\n    setSelectedCards([]);\n    setFrontHand([]);\n    setMiddleHand([]);\n    setBackHand([]);\n    setGameResult(null);\n    // 生成所有AI手牌分配\n    const ai = [];\n    for (let i = 1; i < NUM_PLAYERS; ++i) {\n      ai.push(simpleAI(hands[i]));\n    }\n    setAiHands(ai);\n  }\n\n  function handleCardClick(card) {\n    const isSelected = selectedCards.some(selectedCard =>\n      selectedCard.suit === card.suit && selectedCard.rank === card.rank\n    );\n    if (isSelected) {\n      setSelectedCards(selectedCards.filter(selectedCard =>\n        !(selectedCard.suit === card.suit && selectedCard.rank === card.rank)\n      ));\n    } else {\n      if (selectedCards.length < playerCards.length) {\n        setSelectedCards([...selectedCards, card]);\n      }\n    }\n  }\n\n  function assignToHand(handType) {\n    if (handType === 'front') {\n      if (selectedCards.length === 0 || frontHand.length + selectedCards.length > 3) {\n        alert('请选择正确数量的牌分配到前墩 (3张)');\n        return;\n      }\n    } else if (handType === 'middle' || handType === 'back') {\n      if (selectedCards.length === 0 ||\n        (handType === 'middle' && middleHand.length + selectedCards.length > 5) ||\n        (handType === 'back' && backHand.length + selectedCards.length > 5)) {\n        alert('请选择正确数量的牌分配到中墩或后墩 (5张)');\n        return;\n      }\n    }\n    const allAssignedCards = [...frontHand, ...middleHand, ...backHand];\n    const alreadyAssigned = selectedCards.some(selectedCard =>\n      allAssignedCards.some(assignedCard =>\n        assignedCard.suit === selectedCard.suit && assignedCard.rank === selectedCard.rank\n      )\n    );\n    if (alreadyAssigned) {\n      alert('选中的牌已经分配过了');\n      return;\n    }\n    if (handType === 'front') setFrontHand([...frontHand, ...selectedCards]);\n    else if (handType === 'middle') setMiddleHand([...middleHand, ...selectedCards]);\n    else if (handType === 'back') setBackHand([...backHand, ...selectedCards]);\n\n    setPlayerCards(playerCards.filter(card =>\n      !selectedCards.some(selectedCard =>\n        selectedCard.suit === card.suit && selectedCard.rank === card.rank\n      )\n    ));\n    setSelectedCards([]);\n  }\n\n  function removeFromHand(handType, cardToRemove) {\n    if (handType === 'front') {\n      setFrontHand(frontHand.filter(card => !(card.suit === cardToRemove.suit && card.rank === cardToRemove.rank)));\n      setPlayerCards([...playerCards, cardToRemove]);\n    } else if (handType === 'middle') {\n      setMiddleHand(middleHand.filter(card => !(card.suit === cardToRemove.suit && card.rank === cardToRemove.rank)));\n      setPlayerCards([...playerCards, cardToRemove]);\n    } else if (handType === 'back') {\n      setBackHand(backHand.filter(card => !(card.suit === cardToRemove.suit && card.rank === cardToRemove.rank)));\n      setPlayerCards([...playerCards, cardToRemove]);\n    }\n  }\n\n  function handleCompareHands() {\n    if (frontHand.length !== 3 || middleHand.length !== 5 || backHand.length !== 5) {\n      alert('请先将所有牌分到前、中、后三墩');\n      return;\n    }\n    // 逐个和AI比，统计总得分\n    let myScore = 0;\n    const details = [];\n    aiHands.forEach((ai, idx) => {\n      const score = calculateScore(\n        { front: frontHand, middle: middleHand, back: backHand },\n        ai\n      );\n      myScore += score;\n      details.push({ aiIndex: idx + 1, score });\n    });\n    setGameResult({ myScore, details });\n  }\n\n  // 牌型提示\n  const frontType = getHandType(frontHand);\n  const middleType = getHandType(middleHand);\n  const backType = getHandType(backHand);\n\n  return (\n    <div className=\"play-container\">\n      <h2>游戏区域（4人）</h2>\n      <button onClick={startNewGame}>开始新游戏</button>\n\n      <div className=\"cards-area\">\n        <h3>我的手牌 ({playerCards.length} 张)</h3>\n        <Hand cards={playerCards} onCardClick={handleCardClick} selectedCards={selectedCards} />\n      </div>\n\n      <div className=\"hand-assignments\">\n        <div className=\"play-pai-dun\">\n          <h4>前墩 ({frontHand.length}/3) <span style={{ color: '#ffb14d', fontSize: 13 }}>{frontType}</span></h4>\n          <Hand cards={frontHand} />\n          {frontHand.map((card, index) => (\n            <button key={index} onClick={() => removeFromHand('front', card)}>移除 {card.rank} {card.suit}</button>\n          ))}\n          <button onClick={() => assignToHand('front')}>分配到前墩</button>\n        </div>\n        <div className=\"play-pai-dun\">\n          <h4>中墩 ({middleHand.length}/5) <span style={{ color: '#ffb14d', fontSize: 13 }}>{middleType}</span></h4>\n          <Hand cards={middleHand} />\n          {middleHand.map((card, index) => (\n            <button key={index} onClick={() => removeFromHand('middle', card)}>移除 {card.rank} {card.suit}</button>\n          ))}\n          <button onClick={() => assignToHand('middle')}>分配到中墩</button>\n        </div>\n        <div className=\"play-pai-dun\">\n          <h4>后墩 ({backHand.length}/5) <span style={{ color: '#ffb14d', fontSize: 13 }}>{backType}</span></h4>\n          <Hand cards={backHand} />\n          {backHand.map((card, index) => (\n            <button key={index} onClick={() => removeFromHand('back', card)}>移除 {card.rank} {card.suit}</button>\n          ))}\n          <button onClick={() => assignToHand('back')}>分配到后墩</button>\n        </div>\n      </div>\n\n      {frontHand.length === 3 && middleHand.length === 5 && backHand.length === 5 && aiHands.length > 0 && (\n        <button onClick={handleCompareHands}>比牌并计分</button>\n      )}\n\n      {gameResult && (\n        <div className=\"result-container\">\n          <h3>游戏结果</h3>\n          <p>你的总分：<b style={{ color: gameResult.myScore > 0 ? '#23e67a' : (gameResult.myScore < 0 ? '#ff4444' : '#fff') }}>{gameResult.myScore}</b></p>\n          <ul style={{ listStyle: 'none', padding: 0, fontSize: 15 }}>\n            {gameResult.details.map(d => (\n              <li key={d.aiIndex}>对手{d.aiIndex}：{d.score > 0 ? `你赢${d.score}分` : (d.score < 0 ? `你输${-d.score}分` : '平局')}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      {aiHands.length > 0 && (\n        <div className=\"opponent-hands\">\n          <h3>AI对手牌墩</h3>\n          {aiHands.map((ai, idx) => (\n            <div key={idx} className=\"play-pai-dun\" style={{ marginBottom: 16, background: '#212' }}>\n              <h4>对手{idx + 1}</h4>\n              <div>\n                <strong>前墩</strong> <span style={{ color: '#ffb14d', fontSize: 13 }}>{getHandType(ai.front)}</span>\n                <Hand cards={ai.front} />\n              </div>\n              <div>\n                <strong>中墩</strong> <span style={{ color: '#ffb14d', fontSize: 13 }}>{getHandType(ai.middle)}</span>\n                <Hand cards={ai.middle} />\n              </div>\n              <div>\n                <strong>后墩</strong> <span style={{ color: '#ffb14d', fontSize: 13 }}>{getHandType(ai.back)}</span>\n                <Hand cards={ai.back} />\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default GameBoard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}